# –®–∞–≥–∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

## –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh adminfeg@narnia
cd ~/einvestor.ru/laravel
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –º–µ—Å—Ç–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª–æ–≤
ls -la storage/app/public/products/images/

# –ü–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
ls storage/app/public/products/images/ | wc -l
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

```bash
# –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–∞–ø–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è
chmod -R 755 storage/app/public/products/images
chown -R adminfeg:adminfeg storage/app/public/products/images
```

### 4. –°–æ–∑–¥–∞—Ç—å —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞)

```bash
php8.3 artisan storage:link
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å—Å—ã–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞:
```bash
ls -la public/storage
```

### 5. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫

```bash
# –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö —Ç–æ–≤–∞—Ä–æ–≤
# (–∑–∞–º–µ–Ω–∏—Ç –≤–Ω–µ—à–Ω–∏–µ URL –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏)
php8.3 artisan products:fix-images-in-description

# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ
# (–∑–∞–º–µ–Ω–∏—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ einvestor.ru –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã)
php8.3 artisan links:fix-external
```

### 6. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à

```bash
php8.3 artisan optimize:clear
php8.3 artisan config:clear
php8.3 artisan cache:clear
php8.3 artisan route:clear
php8.3 artisan view:clear
```

### 7. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
php8.3 artisan config:cache
php8.3 artisan route:cache
php8.3 artisan view:cache
```

### 8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://einvestor.ru`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —Ç–æ–≤–∞—Ä —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
   - –†–∞–±–æ—Ç–∞—é—Ç –ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
   - –†–∞–±–æ—Ç–∞—é—Ç –ª–∏ —Å—Å—ã–ª–∫–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ª–∏ lightbox –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã)

```bash
tail -f storage/logs/laravel.log
```

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ storage link —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
test -L public/storage && echo "‚úÖ –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞" || echo "‚ùå –°–∏–º–≤–æ–ª–∏—á–µ—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
echo "üì∏ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –ø–∞–ø–∫–µ: $(ls storage/app/public/products/images/ 2>/dev/null | wc -l)"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -ld storage/app/public/products/images/ && echo "‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ OK"
```

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É:
   ```bash
   ls -la public/storage
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
   ```bash
   chmod -R 755 storage/app/public
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`:
   ```env
   APP_URL=https://einvestor.ru
   ```

### –°—Å—ã–ª–∫–∏ –Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã —Å —Ñ–ª–∞–≥–æ–º `--verbose` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
   ```bash
   php8.3 artisan products:fix-images-in-description --verbose
   php8.3 artisan links:fix-external --verbose
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   tail -n 50 storage/logs/laravel.log
   ```

## –ü–æ–ª–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- [ ] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ `storage/app/public/products/images/`
- [ ] –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ (`php8.3 artisan storage:link`)
- [ ] –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (755)
- [ ] –ö–æ–º–∞–Ω–¥—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –ö–µ—à –æ—á–∏—â–µ–Ω –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
- [ ] –°–∞–π—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Lightbox —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
